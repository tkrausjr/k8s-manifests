# This file is used to patch the number of replicas in a Cluster Object for a cluster.
# To get the patch data make the change with kubectl edit and then use the --output-patch flag
kubectl edit cluster k8s-129-01 --output-patch=true

  Patch: {"spec":{"topology":{"workers":{"machineDeployments":[{"class":"node-pool","metadata":{},"name":"node-pool-1","replicas":5}]}}}}
  cluster.cluster.x-k8s.io/k8s-129-01 edited

# Then to make the patch, issue the following. Must use --type=merge as the default is strategic-merge-patch which does not work with this object.
kubectl patch cluster k8s-129-01 --type=merge -p '{"spec":{"topology":{"workers":{"machineDeployments":[{"class":"node-pool","metada
ta":{},"name":"node-pool-1","replicas":3}]}}}}'
  cluster.cluster.x-k8s.io/k8s-129-01 patched

{"spec":{"topology":{"workers":{"machineDeployments":[{"class":"node-pool","metadata":{},"name":"node-pool-1","replicas":3}]}}}}